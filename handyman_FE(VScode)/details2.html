  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handyman Services</title>
    <link rel="stylesheet" href="style.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script src="https://kit.fontawesome.com/22978dc916.js" crossorigin="anonymous"></script>

    <style>
        
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1, h2 {
            color: #0056b3;
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
        }

        .service-description {
            text-align: center;
            margin-bottom: 20px;
            font-size: 18px;
            color: #555;
        }

        .flex-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .left-column {
            flex: 2;
        }

        .subservices-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .subservices-table th, .subservices-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .subservices-table th {
            background-color: #0056b3;
            color: white;
        }

        .handyman-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .handyman-card {
            text-align: center;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 12px;
            background-color: #f9f9f9;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .handyman-image {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 5px;
        }

        .handyman-rating {
            color: #ff9800;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .handyman-rating span {
            margin-left: 5px;
            font-size: 14px;
            color: #333;
        }

        .feedback-reviews-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        .feedback-form {
            flex: 1;
            background-color: #f4f4f4;
            border-radius: 12px;
            padding: 15px;
            min-width: 300px;
        }

        .feedback-form h2 {
            font-size: 20px;
        }

    .feedback-form input, .feedback-form textarea, .feedback-form button {
    width: 95%; 
    box-sizing: border-box; 
    margin: 8px auto; 
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    display: block; 
}

        .feedback-form button {
            background-color: #0056b3;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .feedback-form button:hover {
            background-color: #003d80;
        }

        .reviews-section {
            flex: 2;
            background-color: #f4f4f4;
            border-radius: 12px;
            padding: 15px;
        }

        .review-card {
            background-color: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .review-card .review-header {
            font-weight: bold;
            color: #0056b3;
        }

.review-card .review-rating {
 color: #ff9800;
 font-size: 0.9em;
 }

 a.btn {
 text-decoration: none; 
    }

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.3em;
}

.book-now {
    background-color: rgba(233, 201, 19, 0.902);
    color: black;
    margin-right: 10px;
}

.book-now:hover {
    background-color: #003580;
    color: white;
}
</style>
</head>
<body>

<!-- Header Section -->
<header class="navbar">
    <div class="logo-container">
        <img src="images/handyman.png" alt="Handyman Logo" class="logo-img">
        <span class="logo-text">Handyman Services</span>
    </div>
    <nav class="nav-links-container">
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </ul>
    </nav>
    
    <div class="auth-buttons">
    <a href="auth.html" class="login-btn">Sign Up / Log In</a>

    </div>
</header>



    <div class="container">
    <h1>Painting Services</h1>
    <center><a href="booknow.html" class="btn book-now">Book Now</a></center>

    <div class="flex-container">
      <table class="subservices-table">
        <thead>
          <tr>
            <th>Service Type</th>
            <th>Description</th>
            <th>Price Range (₹)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Interior Wall Painting</td>
            <td>Premium quality paint with smooth finish.</td>
            <td>3,000 - 6,000</td>
          </tr>
          <tr>
            <td>Exterior Wall Painting</td>
            <td>Weather-resistant and long-lasting exterior coating.</td>
            <td>5,000 - 10,000</td>
          </tr>
          <tr>
            <td>Ceiling Painting</td>
            <td>Bright and crack-resistant ceiling coats.</td>
            <td>1,500 - 3,000</td>
          </tr>
          <tr>
            <td>Furniture Painting</td>
            <td>Polishing and painting of wooden furniture.</td>
            <td>1,000 - 2,500</td>
          </tr>
          <tr>
            <td>Texture Painting</td>
            <td>Modern textures for a stylish interior look.</td>
            <td>4,000 - 8,000</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h2>Associated Handymen</h2>
    <div class="handyman-grid">
      
    </div>

        <div class="feedback-reviews-container">
            <div class="feedback-form">
                <h2>Leave Your Feedback</h2>
                <form onsubmit="submitFeedback(event)">
                    <label for="userName">Your Name</label>
                    <input type="text" id="userName" placeholder="Enter Your Name" required>


                    <label for="handyman">Handyman</label>
                    <input type="text" id="handyman" placeholder="Enter Handyman Name" required>

                    <label for="rating">Rating (1-5)</label>
                    <input type="number" id="rating" min="1" max="5" required>

                    <label for="review">Review</label>
                    <textarea id="review" rows="4" placeholder="Write your review here..." required></textarea>

                    <button type="submit">Submit</button>
                </form>
            </div>
            <div class="reviews-section">
                <h2>Latest Reviews</h2>
                <div id="reviews-list">
                    
                </div>
            </div>
        </div>
    </div>

<script>

    async function fetchHandymen() {
    const res = await fetch("http://localhost:8080/api/handymen");
    return await res.json();
}

async function fetchReviews() {
    const res = await fetch("http://localhost:8080/api/reviews/latest");
    return await res.json();
}

async function submitFeedback(event) {
    event.preventDefault();

    const userName = document.getElementById('userName').value.trim();
    const handymanName = document.getElementById('handyman').value.trim();
    const rating = parseFloat(document.getElementById('rating').value);
    const review = document.getElementById('review').value.trim();

    const response = await fetch("http://localhost:8080/api/reviews", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ userName, handymanName, rating, review })
    });

    if (response.ok) {
        loadPageData(); 
        event.target.reset();
    } else {
        alert("Failed to submit review. Please check handyman name.");
    }
}

function renderHandymen(handymen) {
    const handymanGrid = document.querySelector(".handyman-grid");
    handymanGrid.innerHTML = handymen.map(h => `
        <div class="handyman-card">
            <img src="images/man3.jpg" alt="${h.name}" class="handyman-image">
            <h4>${h.name}</h4>
            <p>${h.skill}</p>
            <div class="handyman-rating">★★★★☆ <span>(${h.rating.toFixed(1)})</span></div>
        </div>
    `).join("");
}

function renderReviews(reviews) {
    const reviewsList = document.getElementById('reviews-list');
    reviewsList.innerHTML = reviews.map(r => `
        <div class="review-card">
            <p class="review-header">${r.userName} rated ${r.handymanName} ${r.rating}★</p>
            <p>${r.review}</p>
        </div>
    `).join("");
}

async function loadPageData() {
    const [handymen, reviews] = await Promise.all([fetchHandymen(), fetchReviews()]);
    renderHandymen(handymen);
    renderReviews(reviews);
}

document.addEventListener("DOMContentLoaded", loadPageData);

</script>
<br>

    <!-- Footer Section -->
<footer class="footer-distributed">
    <div class="footer-left">
        <h3>Handyman<span> Services</span></h3>
        <p class="footer-links">
            <a href="index.html" class="link-1">Home</a>
            <a href="services.html">Services</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
        </p>
    </div>

    <div class="footer-center">
        <div>
            <i class="fa fa-map-marker"></i>
            <p><span>123 Main Road,</span> Latur</p>
        </div>
        <div>
            <i class="fa fa-phone"></i>
            <p>+1 555 123 4567</p>
        </div>
        <div>
            <i class="fa fa-envelope"></i>
            <p><a href="mailto:support@handymanservices.com">support@handymanservices.com</a></p>
        </div>
    </div>

    <div class="footer-right">
        <p class="footer-company-about">
            <span>About Us</span><br>
            We provide trusted handyman services for all your home and office needs. Our team is committed to excellence and customer satisfaction.
        </p>
        <div class="footer-icons">
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
            <a href="#"><i class="fa fa-instagram"></i></a>
            <a href="#"><i class="fa fa-youtube"></i></a>
        </div>
    </div>
</footer>
<footer class="footer-bottom">
    <p>© 2025 Handyman Services. All rights reserved.</p>
</footer>

</body>
</html>
